<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Leni Cell</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="background-overlay">
    <header>
      <div class="container">
        <h1>Leni Cell</h1>
        <nav>
          <ul>
            <li><a href="#" class="nav-link" data-page="home">Beranda</a></li>
            <li><a href="#" class="nav-link" data-page="stok">Manajemen Stok</a></li>
            <li><a href="#" class="nav-link" data-page="layanan">Layanan</a></li>
            <li><a href="#" class="nav-link" data-page="kontak">Kontak</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <style>
      * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
     /* Perbaikan Responsif untuk Leni Cell */

/* Base responsive settings */
@media (max-width: 768px) {
  /* Header styling */
  header .container {
    flex-direction: column;
    padding: 10px 0;
  }
  
  header h1 {
    margin-bottom: 10px;
    font-size: 24px;
  }
  
  header nav ul {
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 10px;
    gap: 5px;
  }
  
  header nav ul li {
    margin: 0;
  }
  
  .nav-link {
    padding: 6px 10px;
    font-size: 14px;
  }
  
  /* Hero section */
  .hero {
    height: auto;
    min-height: 60vh;
    padding: 30px 0;
  }
  
  .hero h1 {
    font-size: 28px;
  }
  
  .hero p {
    font-size: 16px;
  }
  
  .btn {
    font-size: 22px;
    padding: 8px 16px;
  }
  
  /* Stok section */
  .stok-section {
    padding: 15px;
  }
  
  .stok-section h2 {
    font-size: 20px;
    margin-bottom: 15px;
  }
  
  /* Form elements */
  .form-group {
    margin-bottom: 15px;
  }
  
  .form-group label {
    font-size: 14px;
    margin-bottom: 4px;
  }
  
  .form-group input, 
  .form-group select, 
  .form-group textarea {
    padding: 8px 10px;
    font-size: 14px;
  }
  
  .form-group button {
    padding: 8px 12px;
    font-size: 14px;
    width: 100%;
    margin-bottom: 8px;
    margin-right: 0;
  }
  
  /* Table responsiveness */
  table {
    display: block;
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  table th, 
  table td {
    padding: 8px 10px;
    font-size: 13px;
    white-space: nowrap;
  }
  
  /* Transaksi form */
  .transaksi-form {
    padding: 15px;
  }
  
  /* Button groups */
  .button-group {
    flex-direction: column;
    gap: 8px;
  }
  
  .reset-button,
  .export-button {
    width: 100%;
    margin-left: 0;
  }
  
  /* Contact section */
  .contact-card,
  .contact-form,
  .contact-map {
    padding: 15px;
  }
  
  .contact-card h3,
  .contact-form h3,
  .contact-map h3 {
    font-size: 18px;
  }
  
  /* Footer */
  footer {
    padding: 15px;
    margin-top: 30px;
    font-size: 13px;
  }
}

/* Extra small devices */
@media (max-width: 480px) {
  /* Reduce padding further */
  .container {
    width: 95%;
    padding: 0;
  }
  
  header h1 {
    font-size: 22px;
  }
  
  .nav-link {
    padding: 5px 8px;
    font-size: 13px;
  }
  
  .hero h1 {
    font-size: 24px;
  }
  
  .btn {
    font-size: 20px;
  }
  
  /* Make tables more usable on tiny screens */
  table {
    font-size: 12px;
  }
  
  table th, 
  table td {
    padding: 6px 8px;
  }
  
  /* Horizontal scroll indicators */
  .transaction-history::after,
  .profit-summary::after {
    content: "← geser →";
    display: block;
    text-align: center;
    color: #777;
    font-size: 12px;
    margin-top: 5px;
  }
}
    </style>
    <!-- Halaman Beranda -->
    <div id="home" class="page-content active">
      <section class="hero">
        <div class="container">
          <h1>Selamat Datang di</h1>
          <a href="#" class="btn">Leni Cell</a>
          <p>Solusi Terbaik Untuk Kebutuhan Gadget Anda</p>
        </div>
      </section>
    </div>

    <!-- Halaman Manajemen Stok -->
    <div id="stok" class="page-content">
      <div class="container">
        <section class="stok-section">
          <h2>Manajemen Stok Barang</h2>
          
          <!-- Form untuk tambah stok (Modal/Beli) -->
          <div class="form-group">
            <label>Nama Barang:</label>
            <input type="text" id="namaBarang" placeholder="Contoh: Charger">
          </div>
          <div class="form-group">
            <label>Jumlah:</label>
            <input type="number" id="jumlahBarang" placeholder="Jumlah">
          </div>
          <div class="form-group">
            <label>Harga Modal (Rp):</label>
            <input type="number" id="hargaModal" placeholder="Harga beli per unit">
          </div>
          <div class="form-group">
            <button onclick="tambahStok()">Tambah Stok</button>
            <button onclick="showJualForm()">Jual Barang</button>
          </div>
          
          <!-- Form untuk jual barang -->
          <div id="jualForm" class="transaksi-form">
            <h3>Jual Barang</h3>
            <div class="form-group">
              <label>Nama Barang:</label>
              <select id="barangJual">
                <option value="">-- Pilih Barang --</option>
              </select>
            </div>
            <div class="form-group">
              <label>Jumlah Jual:</label>
              <input type="number" id="jumlahJual" placeholder="Jumlah">
            </div>
            <div class="form-group">
              <label>Harga Jual (Rp):</label>
              <input type="number" id="hargaJual" placeholder="Harga jual per unit">
            </div>
            <div class="form-group">
              <button onclick="jualBarang()">Proses Penjualan</button>
              <button onclick="hideJualForm()" style="background-color: #777;">Batal</button>
            </div>
          </div>
        
          <h3>Daftar Stok Saat Ini</h3>
          <table id="tabelStok">
            <thead>
              <tr>
                <th>No</th>
                <th>Nama Barang</th>
                <th>Jumlah</th>
                <th>Harga Modal</th>
                <th>Total Modal</th>
              </tr>
            </thead>
            <tbody>
              <!-- Isi tabel akan ditambahkan melalui JavaScript -->
            </tbody>
          </table>
          
          <div class="transaction-history">
            <h3>Riwayat Transaksi</h3>
            <table id="tabelTransaksi">
              <thead>
                <tr>
                  <th>Waktu</th>
                  <th>Nama Barang</th>
                  <th>Tipe</th>
                  <th>Jumlah</th>
                  <th>Harga</th>
                  <th>Total</th>
                </tr>
              </thead>
              <tbody>
                <!-- Isi tabel akan ditambahkan melalui JavaScript -->
              </tbody>
            </table>
          </div>
          
          <div class="profit-summary">
            <h3>Ringkasan Keuntungan</h3>
            <table id="tabelKeuntungan">
              <thead>
                <tr>
                  <th>Total Modal</th>
                  <th>Total Penjualan</th>
                  <th>Total Keuntungan</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td id="totalModal">Rp 0</td>
                  <td id="totalPenjualan">Rp 0</td>
                  <td id="totalKeuntungan">Rp 0</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <div class="button-group">
            <button onclick="resetData()" class="reset-button">Reset Data</button>
            <button onclick="exportData()" class="export-button">Export Data</button>
          </div>
        </section>
      </div>
    </div>

    <!-- Halaman Layanan -->
    <div id="layanan" class="page-content">
      <div class="container">
        <h2>Layanan Kami</h2>
        <p>Halaman ini berisi informasi tentang layanan yang kami tawarkan.</p>
        <!-- Tambahkan konten layanan di sini -->
      </div>
    </div>

    <!-- Halaman Kontak -->
    <div id="kontak" class="page-content">
      <div class="container">
        <h2>Kontak Kami</h2>
        
        <div class="contact-info">
          <div class="contact-card">
            <h3>Informasi Toko</h3>
            <p><strong>Alamat:</strong> Jl. Bunga Pasang Salido</p>
            <p><strong>Jam Operasional:</strong> Senin - Sabtu, 08.00 - 20.00 WIB</p>
            <p><strong>Minggu & Hari Libur:</strong> 09.00 - 18.00 WIB</p>
          </div>
          
          <div class="contact-card">
            <h3>Hubungi Kami</h3>
            <p><strong>Telepon/WhatsApp:</strong> 0822-8837-9512</p>
            <p><strong>Email:</strong> garapanmasuak@gmail.com</p>
            <p><strong>Instagram:</strong> @leni_cell</p>
          </div>
        </div>
        
        <div class="contact-form">
          <h3>Kirim Pesan</h3>
          <form action="https://formsubmit.co/garapanmasuak@gmail.com" method="POST">
            <div class="form-group">
              <label for="nama">Nama Lengkap:</label>
              <input type="text" id="nama" name="nama" required>
            </div>
            
            <div class="form-group">
              <label for="email">Email:</label>
              <input type="email" id="email" name="email" required>
            </div>
            
            <div class="form-group">
              <label for="telepon">No. Telepon:</label>
              <input type="tel" id="telepon" name="telepon">
            </div>
            
            <div class="form-group">
              <label for="pesan">Pesan:</label>
              <textarea id="pesan" name="pesan" rows="5" required></textarea>
            </div>
            
            <div class="form-group">
              <button type="submit">Kirim Pesan</button>
            </div>
            
            <!-- Redirect setelah submit -->
            <input type="hidden" name="_next" value="https://website-anda.com/terima-kasih.html">
          </form>
        </div>
        
        <div class="contact-map">
          <h3>Lokasi Kami</h3>
          <div class="map-container">
            <!-- Anda bisa mengganti ini dengan embed Google Maps yang sebenarnya -->
            <div class="map-placeholder">
              <p>Peta Lokasi Leni Cell</p>
              <p>Jl. Bunga Pasang Salido</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <p>© 2025 Leni Cell. All rights reserved.</p>
    </footer>
  </div>

  <script>
    // Array untuk menyimpan data stok
    let dataStok = [];
    
    // Array untuk menyimpan riwayat transaksi
    let riwayatTransaksi = [];
    
    // Total modal dan penjualan untuk menghitung keuntungan
    let totalModalKeseluruhan = 0;
    let totalPenjualanKeseluruhan = 0;
    
    // Navigasi Single Page Application
    document.addEventListener('DOMContentLoaded', function() {
      const navLinks = document.querySelectorAll('.nav-link');
      
      navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          
          // Sembunyikan semua halaman
          const pages = document.querySelectorAll('.page-content');
          pages.forEach(page => {
            page.classList.remove('active');
          });
          
          // Tampilkan halaman yang dipilih
          const pageId = this.getAttribute('data-page');
          document.getElementById(pageId).classList.add('active');
        });
      });
      
      // Muat data dari local storage terlebih dahulu
      muatDataDariLocalStorage();
      
      // Kemudian perbarui tampilan
      updateTabelStok();
      updateTabelTransaksi();
      updateRingkasanKeuntungan();
    });
    
    // Fungsi untuk menyimpan data ke local storage
    function simpanDataKeLocalStorage() {
      localStorage.setItem('dataStok', JSON.stringify(dataStok));
      localStorage.setItem('riwayatTransaksi', JSON.stringify(riwayatTransaksi));
      localStorage.setItem('totalModalKeseluruhan', totalModalKeseluruhan);
      localStorage.setItem('totalPenjualanKeseluruhan', totalPenjualanKeseluruhan);
    }

    // Fungsi untuk memuat data dari local storage
    function muatDataDariLocalStorage() {
      // Cek apakah ada data yang tersimpan
      if (localStorage.getItem('dataStok')) {
        dataStok = JSON.parse(localStorage.getItem('dataStok'));
      }
      
      if (localStorage.getItem('riwayatTransaksi')) {
        riwayatTransaksi = JSON.parse(localStorage.getItem('riwayatTransaksi'));
      }
      
      if (localStorage.getItem('totalModalKeseluruhan')) {
        totalModalKeseluruhan = parseFloat(localStorage.getItem('totalModalKeseluruhan'));
      }
      
      if (localStorage.getItem('totalPenjualanKeseluruhan')) {
        totalPenjualanKeseluruhan = parseFloat(localStorage.getItem('totalPenjualanKeseluruhan'));
      }
    }
    
    // Fungsi untuk menampilkan form jual barang
    function showJualForm() {
      const jualForm = document.getElementById('jualForm');
      jualForm.style.display = 'block';
      
      // Perbarui daftar barang yang tersedia untuk dijual
      const barangJualSelect = document.getElementById('barangJual');
      barangJualSelect.innerHTML = '<option value="">-- Pilih Barang --</option>';
      
      dataStok.forEach(item => {
        const option = document.createElement('option');
        option.value = item.nama;
        option.textContent = `${item.nama} (Stok: ${item.jumlah})`;
        barangJualSelect.appendChild(option);
      });
    }
    
    // Fungsi untuk menyembunyikan form jual barang
    function hideJualForm() {
      document.getElementById('jualForm').style.display = 'none';
    }
    
    // Fungsi untuk menambah stok
    function tambahStok() {
      const namaBarang = document.getElementById('namaBarang').value;
      const jumlahBarang = parseInt(document.getElementById('jumlahBarang').value);
      const hargaModal = parseInt(document.getElementById('hargaModal').value);
      
      if (!namaBarang || !jumlahBarang || jumlahBarang <= 0 || !hargaModal || hargaModal <= 0) {
        alert('Mohon isi nama barang, jumlah, dan harga modal dengan benar!');
        return;
      }
      
      // Cek apakah barang sudah ada di stok
      const barangIndex = dataStok.findIndex(item => item.nama.toLowerCase() === namaBarang.toLowerCase());
      
      if (barangIndex !== -1) {
        // Jika barang sudah ada, hitung rata-rata tertimbang harga modal
        const stokLama = dataStok[barangIndex].jumlah;
        const modalLama = dataStok[barangIndex].hargaModal * stokLama;
        const modalBaru = hargaModal * jumlahBarang;
        const totalStok = stokLama + jumlahBarang;
        const rataRataModal = Math.round((modalLama + modalBaru) / totalStok);
        
        dataStok[barangIndex].jumlah = totalStok;
        dataStok[barangIndex].hargaModal = rataRataModal;
      } else {
        // Jika barang belum ada, tambahkan ke array
        dataStok.push({
          nama: namaBarang,
          jumlah: jumlahBarang,
          hargaModal: hargaModal
        });
      }
      
      // Catat transaksi
      const totalTransaksi = hargaModal * jumlahBarang;
      totalModalKeseluruhan += totalTransaksi;
      
      const transaksi = {
        waktu: new Date().toLocaleString(),
        nama: namaBarang,
        tipe: "Masuk",
        jumlah: jumlahBarang,
        harga: hargaModal,
        total: totalTransaksi
      };
      riwayatTransaksi.push(transaksi);
      
      // Simpan data ke local storage
      simpanDataKeLocalStorage();
      
      // Perbarui tampilan
      updateTabelStok();
      updateTabelTransaksi();
      updateRingkasanKeuntungan();
      
      // Reset form input
      document.getElementById('namaBarang').value = '';
      document.getElementById('jumlahBarang').value = '';
      document.getElementById('hargaModal').value = '';
      
      alert(`Berhasil menambah ${jumlahBarang} ${namaBarang} ke stok!`);
    }
    
    // Fungsi untuk menjual barang
    function jualBarang() {
      const namaBarang = document.getElementById('barangJual').value;
      const jumlahJual = parseInt(document.getElementById('jumlahJual').value);
      const hargaJual = parseInt(document.getElementById('hargaJual').value);
      
      if (!namaBarang || !jumlahJual || jumlahJual <= 0 || !hargaJual || hargaJual <= 0) {
        alert('Mohon isi semua field dengan benar!');
        return;
      }
      
      // Cek apakah barang ada di stok
      const barangIndex = dataStok.findIndex(item => item.nama === namaBarang);
      
      if (barangIndex === -1) {
        alert(`Barang ${namaBarang} tidak ditemukan dalam stok!`);
        return;
      }
      
      // Jika jumlah yang dijual lebih besar dari stok yang ada
      if (jumlahJual > dataStok[barangIndex].jumlah) {
        alert(`Stok ${namaBarang} tidak cukup! Stok saat ini: ${dataStok[barangIndex].jumlah}`);
        return;
      }
      
      const hargaModal = dataStok[barangIndex].hargaModal;
      const totalModal = hargaModal * jumlahJual;
      const totalJual = hargaJual * jumlahJual;
      const keuntungan = totalJual - totalModal;
      
      // Kurangi jumlah stok
      dataStok[barangIndex].jumlah -= jumlahJual;
      
      // Catat transaksi penjualan
      totalPenjualanKeseluruhan += totalJual;
      
      const transaksi = {
        waktu: new Date().toLocaleString(),
        nama: namaBarang,
        tipe: "Keluar (Jual)",
        jumlah: jumlahJual,
        harga: hargaJual,  // Harga jual (bukan modal)
        total: totalJual
      };
      riwayatTransaksi.push(transaksi);
      
      // Jika stok menjadi 0, hapus dari daftar
      if (dataStok[barangIndex].jumlah === 0) {
        dataStok.splice(barangIndex, 1);
      }
      
      // Simpan data ke local storage
      simpanDataKeLocalStorage();
      
      // Perbarui tampilan
      updateTabelStok();
      updateTabelTransaksi();
      updateRingkasanKeuntungan();
      hideJualForm();
      
      // Reset form input
      document.getElementById('barangJual').value = '';
      document.getElementById('jumlahJual').value = '';
      document.getElementById('hargaJual').value = '';
      
      alert(`Penjualan berhasil!\nKeuntungan: ${formatRupiah(keuntungan)}`);
    }
    
    // Fungsi untuk memformat angka sebagai mata uang Rupiah
    function formatRupiah(angka) {
      return new Intl.NumberFormat('id-ID', {
        style: 'currency',
        currency: 'IDR',
        minimumFractionDigits: 0
      }).format(angka);
    }
    
    // Fungsi untuk memperbarui tampilan tabel stok
    function updateTabelStok() {
      const tabelStokBody = document.querySelector('#tabelStok tbody');
      if (!tabelStokBody) return; // Jika elemen belum tersedia
      
      tabelStokBody.innerHTML = '';
      
      if (dataStok.length === 0) {
        const row = document.createElement('tr');
        row.innerHTML = '<td colspan="5" style="text-align: center;">Tidak ada stok barang.</td>';
        tabelStokBody.appendChild(row);
        return;
      }
      
      dataStok.forEach((item, index) => {
        const totalModal = item.jumlah * item.hargaModal;
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${index + 1}</td>
          <td>${item.nama}</td>
          <td>${item.jumlah}</td>
          <td>${formatRupiah(item.hargaModal)}</td>
          <td>${formatRupiah(totalModal)}</td>
        `;
        tabelStokBody.appendChild(row);
      });
    }
    
    // Fungsi untuk memperbarui tampilan tabel transaksi
    function updateTabelTransaksi() {
      const tabelTransaksiBody = document.querySelector('#tabelTransaksi tbody');
      if (!tabelTransaksiBody) return; // Jika elemen belum tersedia
      
      tabelTransaksiBody.innerHTML = '';
      
      if (riwayatTransaksi.length === 0) {
        const row = document.createElement('tr');
        row.innerHTML = '<td colspan="6" style="text-align: center;">Belum ada transaksi.</td>';
        tabelTransaksiBody.appendChild(row);
        return;
      }
      
      // Tampilkan 10 transaksi terbaru
      const transaksiBaru = riwayatTransaksi.slice(-10).reverse();
      
      transaksiBaru.forEach(transaksi => {
        const row = document.createElement('tr');
        // Beri warna berbeda untuk transaksi masuk dan keluar
        const rowClass = transaksi.tipe.includes('Jual') ? 'background-color: #e6ffe6;' : '';
        
        row.innerHTML = `
          <td style="${rowClass}">${transaksi.waktu}</td>
          <td style="${rowClass}">${transaksi.nama}</td>
          <td style="${rowClass}">${transaksi.tipe}</td>
          <td style="${rowClass}">${transaksi.jumlah}</td>
          <td style="${rowClass}">${formatRupiah(transaksi.harga)}</td>
          <td style="${rowClass}">${formatRupiah(transaksi.total)}</td>
        `;
        tabelTransaksiBody.appendChild(row);
      });
    }
    
    // Fungsi untuk memperbarui ringkasan keuntungan
    function updateRingkasanKeuntungan() {
      const totalModal = document.getElementById('totalModal');
      const totalPenjualan = document.getElementById('totalPenjualan');
      const totalKeuntungan = document.getElementById('totalKeuntungan');
      
      if (!totalModal || !totalPenjualan || !totalKeuntungan) return; // Jika elemen belum tersedia
      
      const keuntungan = totalPenjualanKeseluruhan - totalModalKeseluruhan;
      
      totalModal.textContent = formatRupiah(totalModalKeseluruhan);
      totalPenjualan.textContent = formatRupiah(totalPenjualanKeseluruhan);
      totalKeuntungan.textContent = formatRupiah(keuntungan);
    }
  </script>
</body>
</html>
